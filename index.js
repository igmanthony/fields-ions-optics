!function(e){function t(t){for(var n,c,r=t[0],d=t[1],a=0,o=[];a<r.length;a++)c=r[a],Object.prototype.hasOwnProperty.call(f,c)&&f[c]&&o.push(f[c][0]),f[c]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);for(i&&i(t);o.length;)o.shift()()}var n={},f={0:0};var c={};var r={2:function(){return{"./index_bg.js":{__wbindgen_string_new:function(e,t){return n[1].exports.d(e,t)},__wbg_log_be5faf67a2e8b869:function(e){return n[1].exports.b(e)},__wbindgen_object_drop_ref:function(e){return n[1].exports.c(e)},__wbindgen_throw:function(e,t){return n[1].exports.e(e,t)}}}}};function d(t){if(n[t])return n[t].exports;var f=n[t]={i:t,l:!1,exports:{}};return e[t].call(f.exports,f,f.exports,d),f.l=!0,f.exports}d.e=function(e){var t=[],n=f[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,c){n=f[e]=[t,c]}));t.push(n[2]=a);var o,b=document.createElement("script");b.charset="utf-8",b.timeout=120,d.nc&&b.setAttribute("nonce",d.nc),b.src=function(e){return d.p+""+({}[e]||e)+".js"}(e);var i=new Error;o=function(t){b.onerror=b.onload=null,clearTimeout(l);var n=f[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",i.name="ChunkLoadError",i.type=c,i.request=r,n[1](i)}f[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:b})}),12e4);b.onerror=b.onload=o,document.head.appendChild(b)}return({1:[2]}[e]||[]).forEach((function(e){var n=c[e];if(n)t.push(n);else{var f,a=r[e](),o=fetch(d.p+""+{2:"7e0781ba5354fcf53e65"}[e]+".module.wasm");if(a instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)f=Promise.all([WebAssembly.compileStreaming(o),a]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)f=WebAssembly.instantiateStreaming(o,a);else{f=o.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,a)}))}t.push(c[e]=f.then((function(t){return d.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},d.m=e,d.c=n,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var f in e)d.d(n,f,function(t){return e[t]}.bind(null,f));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e},d.w={};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var b=0;b<a.length;b++)t(a[b]);var i=o;d(d.s=0)}([function(e,t,n){"use strict";n.r(t);const f=["#ffffff","#f44336","#4CAF50","#2196F3","#795548"],c=document.getElementById("electrode_map"),r=document.getElementById("electric_field_map");var d=[0,1e3,1e4,-5e3,-1e3],a=0,o=!1,b=!1,i=1,l=["#30123b","#311542","#32184a","#341b51","#351e58","#36215f","#372365","#38266c","#392972","#3a2c79","#3b2f7f","#3c3285","#3c358b","#3d3791","#3e3a96","#3f3d9c","#4040a1","#4043a6","#4145ab","#4148b0","#424bb5","#434eba","#4350be","#4353c2","#4456c7","#4458cb","#455bce","#455ed2","#4560d6","#4563d9","#4666dd","#4668e0","#466be3","#466de6","#4670e8","#4673eb","#4675ed","#4678f0","#467af2","#467df4","#467ff6","#4682f8","#4584f9","#4587fb","#4589fc","#448cfd","#438efd","#4291fe","#4193fe","#4096fe","#3f98fe","#3e9bfe","#3c9dfd","#3ba0fc","#39a2fc","#38a5fb","#36a8f9","#34aaf8","#33acf6","#31aff5","#2fb1f3","#2db4f1","#2bb6ef","#2ab9ed","#28bbeb","#26bde9","#25c0e6","#23c2e4","#21c4e1","#20c6df","#1ec9dc","#1dcbda","#1ccdd7","#1bcfd4","#1ad1d2","#19d3cf","#18d5cc","#18d7ca","#17d9c7","#17dac4","#17dcc2","#17debf","#18e0bd","#18e1ba","#19e3b8","#1ae4b6","#1be5b4","#1de7b1","#1ee8af","#20e9ac","#22eba9","#24eca6","#27eda3","#29eea0","#2cef9d","#2ff09a","#32f197","#35f394","#38f491","#3bf48d","#3ff58a","#42f687","#46f783","#4af880","#4df97c","#51f979","#55fa76","#59fb72","#5dfb6f","#61fc6c","#65fc68","#69fd65","#6dfd62","#71fd5f","#74fe5c","#78fe59","#7cfe56","#80fe53","#84fe50","#87fe4d","#8bfe4b","#8efe48","#92fe46","#95fe44","#98fe42","#9bfd40","#9efd3e","#a1fc3d","#a4fc3b","#a6fb3a","#a9fb39","#acfa37","#aef937","#b1f836","#b3f835","#b6f735","#b9f534","#bbf434","#bef334","#c0f233","#c3f133","#c5ef33","#c8ee33","#caed33","#cdeb34","#cfea34","#d1e834","#d4e735","#d6e535","#d8e335","#dae236","#dde036","#dfde36","#e1dc37","#e3da37","#e5d838","#e7d738","#e8d538","#ead339","#ecd139","#edcf39","#efcd39","#f0cb3a","#f2c83a","#f3c63a","#f4c43a","#f6c23a","#f7c039","#f8be39","#f9bc39","#f9ba38","#fab737","#fbb537","#fbb336","#fcb035","#fcae34","#fdab33","#fda932","#fda631","#fda330","#fea12f","#fe9e2e","#fe9b2d","#fe982c","#fd952b","#fd9229","#fd8f28","#fd8c27","#fc8926","#fc8624","#fb8323","#fb8022","#fa7d20","#fa7a1f","#f9771e","#f8741c","#f7711b","#f76e1a","#f66b18","#f56817","#f46516","#f36315","#f26014","#f15d13","#ef5a11","#ee5810","#ed550f","#ec520e","#ea500d","#e94d0d","#e84b0c","#e6490b","#e5460a","#e3440a","#e24209","#e04008","#de3e08","#dd3c07","#db3a07","#d93806","#d73606","#d63405","#d43205","#d23005","#d02f04","#ce2d04","#cb2b03","#c92903","#c72803","#c52602","#c32402","#c02302","#be2102","#bb1f01","#b91e01","#b61c01","#b41b01","#b11901","#ae1801","#ac1601","#a91501","#a61401","#a31201","#a01101","#9d1001","#9a0e01","#970d01","#940c01","#910b01","#8e0a01","#8b0901","#870801","#840701","#810602","#7d0502","#7a0402"];function u(e,t,n,f,c,r){const d=e.getContext("2d");for(let e=0;e<f;e++)for(let a=0;a<c;a++)d.fillStyle=t[n[a*f+e]],d.fillRect(e*r,a*r,r,r)}function s(e){const t=e.scale(),n=e.width()/t,r=e.height()/t,d=3*t;u(c,f,e.electrode_pixels(),n,r,d)}function m(e){u(r,l,e.electric_field_pixels(),e.width(),e.height(),3)}function p(e,t){if(!b&&"click"!=e.type)return;o=!0;const n=c.getBoundingClientRect();let f=e.clientX-n.left,r=e.clientY-n.top;f=Math.floor(f/6),r=Math.floor(r/6),t.brush(f,r,a),2!=i&&3!=i||(t.brush(f+1,r,a),t.brush(f,r+1,a),t.brush(f+1,r+1,a),3==i&&r>=1&&f>=1&&(t.brush(f-1,r-1,a),t.brush(f-1,r,a),t.brush(f-1,r+1,a),t.brush(f,r-1,a),t.brush(f+1,r-1,a)))}function g(e){document.getElementById("electrode1").innerHTML=`Red</br>Electrode</br>${d[1]} V`,document.getElementById("electrode2").innerHTML=`Green</br>Electrode</br>${d[2]} V`,document.getElementById("electrode3").innerHTML=`Blue</br>Electrode</br>${d[3]} V`,document.getElementById("electrode4").innerHTML=`Brown</br>Electrode</br>${d[4]} V`,o&&(o=!1,s(e));for(let e=0;e<f.length;e++)document.getElementById("electrode"+e).style.background=e==a?f[e]:"#A5D6A7";for(let e=1;e<4;e++)document.getElementById("brush"+e).style.background=e==i?"#6a7c6b":"#FFE082"}!async function(){const e=new((await n.e(1).then(n.bind(null,4)).catch(console.error)).Environment)(200,200,2,d);!function(e){c.addEventListener("mousedown",e=>{o=!0,b=!0}),c.addEventListener("mouseup",e=>{o=!0,b=!1}),c.addEventListener("click",t=>p(t,e)),c.addEventListener("mousemove",t=>p(t,e));const t=document.getElementById("voltage_slider"),n=document.getElementById("voltage_input");t.oninput=()=>{0!=a&&(d[a]=t.value,n.value=t.value)},n.oninput=()=>{if(0!=a){const e=n.value;e<=2e4&&e>=-2e4&&(d[a]=e,t.value=e)}};for(let e=0;e<5;e++)document.getElementById("electrode"+e).addEventListener("click",f=>{a=e,t.value=0==e?0:d[a],n.value=t.value})}(e),function(e){for(let e=1;e<4;e++)document.getElementById("brush"+e).addEventListener("click",t=>{i=e});document.getElementById("clear").addEventListener("click",t=>{e.clear(),s(e)}),document.getElementById("update").addEventListener("click",t=>{e.update_voltages(d),console.log("Updated electrodes"),e.generate_electric_fields(),console.log("Updated electrodes & generated electric fields"),m(e)})}(e),s(e),m(e),setInterval(g.bind(null,e,c),40)}()}]);